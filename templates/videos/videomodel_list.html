{% extends 'base.html' %}

{% load static %}

{% block title %}

{% endblock title %}
{% block content %}

{% include "mixins/search_input.html" %}
<div class="w-full text-center font-bold mb-3">
    <h5 class="text-3xl text-gray-500">내 동영상</h5>

</div>
<button class="text-center py-3 rounded-lg font-light text-lg w-1/4 mt-2 mb-2 text-white bg-blue-900 lg:w-1/6"
    id="uploadvideo" onclick="v_upload()">영상 업로드</button>

{% for video in video_list %}


<div class="w-full px-20 lg:px-40">
    <div class=" bg-slate-100  h-44 lg:h-64 shadow-xl shadow-gray-400 mb-5  ">
        <div class="flex items-start w-full h-full px-10 py-2">
            <div class=" h-full  w-3/5 sm:2/5  md:w-3/5 lg:w-3/5">
                <a href="{% url 'videos:detail' video.pk %}"><img class="w-full h-full rounded-3xl"
                        src="{{video.thumbnailimage.url}}" alt="">
                </a>
            </div>
            <div class="w-full h-full">
                <h5 class="text-2xl font-bold text-gray-500 px-6 py-4"><a
                        href="{% url 'videos:detail' video.pk %}">{{video.title}}</a></h5>
            </div>



            <div class="w-48 h-full items-center justify-center relative space-y-4">

                <button
                    class="block w-full h-1/3 text-base font-semibold text-center mt-4  text-white transition duration-200 ease-in bg-gray-600 rounded-lg shadow-md hover:bg-gray-700 focus:ring-gray-500 focus:ring-offset-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 opacity-70 "
                    id="updatevideo">정보변경</button>
                <button
                    class="block w-full h-1/3 text-base font-semibold text-center  text-white transition duration-200 ease-in bg-red-600 rounded-lg shadow-md hover:bg-red-700 focus:ring-red-500 focus:ring-offset-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 opacity-70 "
                    id="deletevideo">삭제</button>


            </div>
        </div>

    </div>
</div>
<script type="">
    tailwind.config = {
        theme: {
            extend: {
                height: {
                    '22': '88px',
                }
            }
        }
    }

    


    document.querySelector("#updatevideo").addEventListener("click", () => {
        location.href = "{% url 'videos:update' video.pk %}"
    });
    document.querySelector("#deletevideo").addEventListener("click", () => {
        location.href = "{% url 'videos:delete' pk=video.pk %}"
    });
</script>

{% endfor %}

<script>
    function v_upload() {
        location.href = "{% url 'videos:upload' %}"
    }
</script>


{% endblock content %}